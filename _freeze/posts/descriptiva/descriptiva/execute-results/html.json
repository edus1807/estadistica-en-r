{
  "hash": "7b01c30d1350971eb961eda49f371972",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Estadística Descriptiva\"\ndescription: \n  Estadística con pingüinos\nauthor: \"Eduardo Aragón\"\ndate: \"2026-01-10\"\ncategories: [Descriptiva, Estadisticos, Media, Mediana, Histograma, Boxplot, Visualización, Datos]\nimage: \"penguin.jpg\"\n---\n\nEn esta ocasión vamos a hacer un ejemplo completo de como debería empezarse a trabajar con unos datos, arrancando desde un estudio descriptivo de los mismos. Para este ejemplo únicamente vamos a trabajar con una variable, pero este análisis podría hacerse de manera bidimensional o con más variables.\n\nLo primero es determinar la base de datos con la que vamos a trabajar. Para ello se ha seleccionado `penguins` perteneciente a la librería `palmerpenguins`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(palmerpenguins)\ndatos<-penguins\n```\n:::\n\n\nUna vez cargados los datos se puede usar la función `names` para ver el nombre de las variables, mientras que con la orden `attach` se agiliza la manipulación de nuestro data.frame pues permite referenciar las columnas de este directamente. Hay que tener cuidado con esta última función pues en caso de que exista otra variable con el mismo nombre en tu entorno de R pueden existir conflictos.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnames(datos)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"species\"           \"island\"            \"bill_length_mm\"   \n[4] \"bill_depth_mm\"     \"flipper_length_mm\" \"body_mass_g\"      \n[7] \"sex\"               \"year\"             \n```\n\n\n:::\n\n```{.r .cell-code}\nattach(datos)\n```\n:::\n\n\nTambién podemos ver como se encuentra estructurada la base de datos mostrando las primeras filas de la misma:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(datos)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 8\n  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g\n  <fct>   <fct>              <dbl>         <dbl>             <int>       <int>\n1 Adelie  Torgersen           39.1          18.7               181        3750\n2 Adelie  Torgersen           39.5          17.4               186        3800\n3 Adelie  Torgersen           40.3          18                 195        3250\n4 Adelie  Torgersen           NA            NA                  NA          NA\n5 Adelie  Torgersen           36.7          19.3               193        3450\n6 Adelie  Torgersen           39.3          20.6               190        3650\n# ℹ 2 more variables: sex <fct>, year <int>\n```\n\n\n:::\n:::\n\n\nPor tanto vemos que tenemos ocho variables, de las cuales nos vamos a centrar en las cuantitativas, puesto que las otras se entiende a que se refieren:\n\n-   `bill_length_mm`: Longitud del pico del pingüino en milímetros.\n\n-   `bill_depth_mm`: Profundidad del pico del pingüino en milímetros.\n\n-   `flipper_length_mm`: Longitud de la aleta del pingüino en milímetros.\n\n-   `body_mass_g`: Masa corporal del pingüino en gramos.\n\nEn este ejemplo nos focalizaremos en la variable asociada a la masa corporal. Sin embargo, todo el análisis siguiente puede ser replicado para caulquiera de las otras tres variables descritas.\n\nDicho esto es el momento de mirar si tenemos datos faltantes en la muestra. Puesto que si disponemos de varios valores de este tipo y una muestra considerablemente grande, se crea una nueva base de datos sin ellos para no perder la original y obtener los siguientes resultados a partir de ella.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsum(is.na(datos))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 19\n```\n\n\n:::\n\n```{.r .cell-code}\nnrow(datos)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 344\n```\n\n\n:::\n\n```{.r .cell-code}\ndatos2<-na.omit(datos)\nmasa_corporal<-datos2$body_mass_g\n```\n:::\n\n\nAntes de obtener las medidas descriptivas típicas, como son las de posición, dispersión o forma, puede ser interesante ver como se encuentran los datos desde el punto de vista gráfico.\n\n# Representaciones gráficas\n\n## Histograma\n\nPuesto que disponemos de datos continuos, podemos comenzar representando un histograma de la masa corporal.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nminimo = min(masa_corporal)\nmaximo = max(masa_corporal)\nrango = maximo - minimo\nintervalos = 9 # número de intervalos de igual amplitud que quiero crear\nhist(masa_corporal,breaks = seq(minimo,maximo,rango/intervalos),freq = FALSE,col=\"royalblue\",xlab=\"Masa corporal\",ylab = \"Porcentaje\",main = \"Histograma de la masa corporal\")\n```\n\n::: {.cell-output-display}\n![](descriptiva_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\nCon esta gráfica ya podemos hacernos una idea de que el valor más frecuente para el peso corporal de los pingüinos está entre los 3.5kg y los 4kg. También se aprecia un claro sesgo hacía la derecha, lo que se traduce en aunque la mayoría de los pingüinos tienen pesos bajos o medios, existe un menor grupo de estos que posee pesos significativamente más altos. Esto último también nos indica que la media será mayor que la mediana, pero eso lo veremos más adelante.\n\n## Diagrama de caja y bigotes\n\nOtro gráfico esencial es el diagrama de caja y bigotes, también conocido como diagrama box-Whisker. La importancia de este gráfico reside en que nos permite ver con precisión la posible existencia de valores atípicos u *outliers* (aquellos datos que presentan un comportamiento anómalo al resto). En caso de que existieran habría que investigar que causas pueden estar provocándolos, como datos mal recogidos o introducidos, o si se tratan de valores plausibles, por lo que dependerá del investigador en cuestión la manera de tratarlos.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nboxplot(masa_corporal,ylab=\"Masa corporal\",main=\"Diagrama de caja y bigotes\",col = \"magenta3\")\n```\n\n::: {.cell-output-display}\n![](descriptiva_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\nEn este caso solo nos interesa la masa corporal, pero podría ser interesante como se comporta dicha variable en función de otras como las cualitativas que veíamos al principio. Por ejemplo, podemos ver como se comporta el peso dependiendo de la especie. Además se añade una leyenda que puede ser útil para otros proyectos.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nespecies<-datos2$species\nboxplot(masa_corporal~especies,col = c(\"springgreen3\",\"cadetblue2\",\"tomato2\"),ylab=\"Masa corporal\",main=\"Diagrama de caja y bigotes\")\nlegend(\"topleft\",legend = levels(especies),fill = c(\"springgreen3\", \"cadetblue2\", \"tomato2\"),title = \"Especie\")\n```\n\n::: {.cell-output-display}\n![](descriptiva_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\nPodemos ver como para la especie *Chinstrap* si existen valores atípicos, pero como lo estamos estudiando de manera conjunta con el resto de especies no entraremos más en detalle.\n\n## Curva de Lorenz\n\nEl último gráfico que se presenta es la curva de Lorenz.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ineq) # para usarlo hay que cargarlo en la memoria\n    plot(Lc(masa_corporal), col=\"darkred\", lwd=2)   \n```\n\n::: {.cell-output-display}\n![](descriptiva_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\nViendo la gráfica podemos decir que la distribución de la masa corporal es bastante equitativa entre los pingüinos, pues la curva está bastante próxima a la diagonal. Por tanto, no hay unos pingüinos que concentran mayoritariamente todo el peso al igual que no existen individuos extremadamente delgados comparados con el resto, siendo la distribución bastante equitativa.\n\nPara terminar los gráficos se recomienda la web [RCHARTS](https://r-charts.com/es/) donde se podrá encontrar bastante información sobre distintas paletas de colores o la librería `ggplot2` muy utilizada para las visualizaciones de datos.\n\n# Medidas univariantes\n\nUna primera manera de ver un resumen estadístico de nuestros datos es mediante la orden `summary`. Sin embargo, esta función puede resultar algo pobre pues solo devuelve la media, la mediana, el primer y tercer cuantil, y los valores máximo y mínimo de los datos.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(masa_corporal)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n   2700    3550    4050    4207    4775    6300 \n```\n\n\n:::\n:::\n\n\nExisten otras funciones como `describe` de la librería `psych` o `stat.desc` de la librería `pastecs` que proporcionan resúmenes algo más completos pero sin llegar a proporcionar todas las medidas que podemos necesitar.\n\nPor ello se irán indicando a continuación la manera de obtener diferentes medidas de posición, dispersión, forma y concentración. Puesto que se proporcionan bastantes medidas, se ofrecerán unas conclusiones generales al final de la sección, únicamente para esta variable, pero se podrían replicar para el resto.\n\n## Estadísticos de posición\n\nSon aquellos que describen dónde se concentran los valores de la variable. La manera de obtenerlos en R es la siguiente:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Número de observaciones\nn <- length(masa_corporal)\n\n# Media aritmética\nmedia<-mean(masa_corporal)\nmedia\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 4207.057\n```\n\n\n:::\n\n```{.r .cell-code}\n# Mediana (la función var calcula la cuasivarianza)\nmedian(masa_corporal)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 4050\n```\n\n\n:::\n\n```{.r .cell-code}\n# Moda\nmoda <- as.numeric(names(which.max(table(masa_corporal))))\nmoda\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 3800\n```\n\n\n:::\n\n```{.r .cell-code}\n# Quartil 1\nquantile(masa_corporal, probs = 0.25) \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n 25% \n3550 \n```\n\n\n:::\n\n```{.r .cell-code}\n# Quartil 3\nquantile(masa_corporal, probs = 0.75) \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n 75% \n4775 \n```\n\n\n:::\n:::\n\n\n## Medidas de dispersión\n\nSon aquellas que miden la variabilidad o dispersión de los datos. La manera de obtenerlos en R es la siguiente:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Varianza (la función var calcula la cuasivarianza)\nvarianza <- ((n - 1) / n) * var(masa_corporal)\nvarianza\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 646425.4\n```\n\n\n:::\n\n```{.r .cell-code}\n# Desviación típica\ndesv_tip <- sqrt(varianza)\ndesv_tip\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 804.0059\n```\n\n\n:::\n\n```{.r .cell-code}\n# Mínimo\nmin(masa_corporal) \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 2700\n```\n\n\n:::\n\n```{.r .cell-code}\n# Máximo\nmax(masa_corporal)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 6300\n```\n\n\n:::\n\n```{.r .cell-code}\n# Rango total\nrango <- maximo - minimo\nrango\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 3600\n```\n\n\n:::\n\n```{.r .cell-code}\n# Coeficiente de variación\nCV <- desv_tip / abs(media)\nCV\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.1911089\n```\n\n\n:::\n:::\n\n\n## Medidas de forma\n\nSon aquellas que indican la forma de la distribución, concretamente consideramos el coeficiente de asimetría y curtosis. Se pueden obtener mediante la librería `moments`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(moments)\n\n# Asimetría\nskewness(masa_corporal)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.4701162\n```\n\n\n:::\n\n```{.r .cell-code}\n# Curtosis\nkurtosis(masa_corporal) - 3\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] -0.7404859\n```\n\n\n:::\n:::\n\n\n## Índice de Gini\n\nEs una medida de concentración que permite evaluar la desigualdad en la distribución de la variable. Se puede calcular mediante la función `ineq` perteneciente a la librería con mismo nombre.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ineq)\nineq(masa_corporal, type = \"Gini\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.1084586\n```\n\n\n:::\n:::\n\n\n## Conclusiones generales\n\nCon las medidas se confirman algunas conclusiones que vimos mediante los gráficos como que la media es mayor que la mediana, pues la distribución tenía asimetría a la derecha, quedando esto a su vez remarcado gracias al coeficiente de asimetría, el cual es \\> 0. Por otro lado, el coeficiente de curtosis es \\< 0, lo que indica que la distribución de la masa corporal es más achatada que la de una distribución normal. Por último, el índice de Gini es muy próximo a 0, por lo que la distribución es muy equitativa como se comprobó con la curva de Lorenz.\n",
    "supporting": [
      "descriptiva_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}